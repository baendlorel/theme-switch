<!DOCTYPE html>
<html>

<head>
  <style>
    .theme-switch {
      --ts-border: 1px;
      --ts-base: 20px;
      --ts-emoji-size: 20px;
      --ts-pad: 2px;
      --ts-width: calc(var(--ts-base) * 4);
      --ts-height: calc(var(--ts-base) * 2);
      --ts-emoji-diameter: calc(var(--ts-base) * 2 - var(--ts-pad) * 2 - var(--ts-border) * 2);
      --ts-sun-x: calc(var(--ts-width) - var(--ts-emoji-diameter) - var(--ts-pad) - var(--ts-border));
      --ts-moon-x: calc(var(--ts-pad) + var(--ts-border));
      position: relative;
      display: inline-block;
      width: var(--ts-width);
      height: var(--ts-height);
      border-width: var(--ts-border);
      border-style: solid;
      border-radius: calc(var(--ts-base) + var(--ts-border));
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);

      background-color: #3F3F3F;
      border-color: #8e8e8e;
    }

    .theme-switch:hover {}

    .theme-switch .dummy {
      width: 0;
      height: 0;
      border: 0;
    }

    .theme-switch .moon,
    .theme-switch .sun {
      position: absolute;
      font-size: var(--ts-emoji-size);
      top: calc(var(--ts-pad) + var(--ts-border));
      width: var(--ts-emoji-diameter);
      height: var(--ts-emoji-diameter);
      border-radius: var(--ts-base);
      transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .theme-switch .icon::before {
      position: absolute;
      width: 100%;
      height: 100%;
      text-align: center;
    }

    .theme-switch .sun .icon::before {
      content: '‚òÄÔ∏è';
    }

    .theme-switch .moon .icon::before {
      content: 'üåô';
    }

    .theme-switch .moon {
      left: var(--ts-moon-x);
      background: linear-gradient(145deg, #707070, #3f3f3f);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .theme-switch .sun {
      left: var(--ts-sun-x);
      background: linear-gradient(145deg, #fffac1, #ffd06c);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }


    /* ÂΩì checkbox Ë¢´ÈÄâ‰∏≠Êó∂ÁöÑÊ†∑Âºè */
    .theme-switch .dummy:not(:checked)~.moon {
      left: var(--ts-moon-x);
      opacity: 1;
    }

    .theme-switch .dummy:checked~.moon {
      left: var(--ts-sun-x);
      opacity: 0;
    }

    .theme-switch .dummy:not(:checked)~.sun {
      left: var(--ts-moon-x);
      opacity: 0;
    }

    .theme-switch .dummy:checked~.sun {
      left: var(--ts-sun-x);
      opacity: 1;
    }

    .theme-switch:has(.dummy:checked) {
      background-color: #ffffff;
      border-color: #e0e0e0;
    }


    /* Ê∑ªÂä†ÊòüÊòüË£ÖÈ•∞Ôºà‰ªÖÂú®ÊöóËâ≤Ê®°Âºè‰∏ãÂèØËßÅÔºâ */
    .stars {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .theme-switch .dummy:not(:checked)~.stars {
      opacity: 0.3;
    }

    .star {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      animation: twinkle 3s infinite alternate;
    }

    @keyframes twinkle {
      0% {
        opacity: 0.3;
      }

      100% {
        opacity: 1;
      }
    }

    /* ÂàõÂª∫‰∏Ä‰∫õÈöèÊú∫ÊòüÊòü */
    .star:nth-child(1) {
      width: 2px;
      height: 2px;
      top: 4px;
      left: 45px;
      animation-delay: 0.2s;
    }

    .star:nth-child(2) {
      width: 3px;
      height: 3px;
      top: 10px;
      left: 12px;
      animation-delay: 0.5s;
    }

    .star:nth-child(3) {
      width: 2px;
      height: 2px;
      top: 31px;
      left: 41px;
      animation-delay: 0.8s;
    }

    .star:nth-child(4) {
      width: 3px;
      height: 3px;
      top: 10px;
      left: 67px;
      animation-delay: 1.1s;
    }

    .star:nth-child(5) {
      width: 2px;
      height: 2px;
      top: 26px;
      left: 59px;
      animation-delay: 1.4s;
    }
  </style>
</head>

<body>
  <div class="container">
    <h3>Theme Switcher</h3>
    <p>Light and dark</p>
    <label class="theme-switch" for="theme">
      <input type="checkbox" id="theme" name="theme" class="dummy">
      <div class="moon">
        <div class="icon"></div>
      </div>
      <div class="sun">
        <div class="icon"></div>
      </div>
      <div class="stars">
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
      </div>
    </label>
    <label id="cur">
      dark
    </label>
  </div>

  <script>
    const theme = document.getElementById('theme');
    theme.onclick = () => {
      const cur = document.body.getAttribute('theme')
      document.body.setAttribute('theme', cur === 'dark' ? 'light' : 'dark');
    }

    theme.onchange = () => {
      console.log('Theme changed!', theme.checked);
      document.getElementById('cur').innerText = theme.checked ? 'light' : 'dark';
    }
  </script>
</body>

</html>